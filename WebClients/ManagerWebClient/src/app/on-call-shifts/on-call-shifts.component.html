<div class="row my-2">
  <div class="col-11 mx-auto">
    <div class="card shadow-sm">
      <div class="row my-3 mt-5">
        <div class="col-11">
          <h4 class="text-muted text-center">Managing On Call Shifts</h4>
        </div>
      </div>
      <div class="row my-3 ms-5">
        <div class="d-flex justify-content-start">
          <div class="form-floating">
            <select
              class="form-select"
              id="floatingSelect"
              aria-label="Floating label select example"
              style="width: max-content"
              [(ngModel)]="selectedMonth"
              (change)="selectionChanged()"
            >
              <option value="1">January</option>
              <option value="2">February</option>
              <option value="3">March</option>
              <option value="4">April</option>
              <option value="5">May</option>
              <option value="6">June</option>
              <option value="7">July</option>
              <option value="8">August</option>
              <option value="9">September</option>
              <option value="10">October</option>
              <option value="11">November</option>
              <option value="12">December</option>
            </select>
            <label for="floatingSelect">Month</label>
          </div>
          <div class="form-floating">
            <select
              class="form-select ms-2"
              id="floatingSelect"
              aria-label="Floating label select example"
              style="width: max-content"
              [(ngModel)]="selectedWeek"
              (change)="selectionChanged()"
            >
              <option value="1">First</option>
              <option value="2">Second</option>
              <option value="3">Third</option>
              <option value="4">Last</option>
            </select>
            <label for="floatingSelect">Week</label>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-11 mx-auto">
          <div style="height: 270px; overflow: auto">
            <table class="table table-bordered align-middle table-hover">
              <thead>
                <tr>
                  <th colspan="3" class="text-center">Doctors on Call</th>
                </tr>
              </thead>
              <tbody>
                <tr
                  *ngFor="let doctor of selectedOnCallShift.doctorsOnDuty"
                  [ngClass]="
                    selectedOldDoctor == doctor ? 'selected' : 'notSelected'
                  "
                  (click)="selectedOldDoctor = doctor"
                >
                  <td class="text-center">{{ doctor.firstName }}</td>
                  <td class="text-center">{{ doctor.lastName }}</td>
                  <td class="text-center">{{ doctor.specialization.name }}</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
      <div class="row my-3">
        <div class="d-flex justify-content-center">
          <button
            class="btn btn-danger me-2"
            [disabled]="selectedOldDoctor == undefined"
            (click)="removeDoctorFromShift()"
          >
            Remove
          </button>
          <button
            class="btn btn-success ms-2"
            data-bs-toggle="modal"
            data-bs-target="#addDoctorModal"
          >
            Add
          </button>
        </div>
      </div>
    </div>
  </div>
</div>

<div
  class="modal fade"
  id="addDoctorModal"
  tabindex="-1"
  aria-labelledby="exampleModalLabel"
  aria-hidden="true"
>
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Add Doctors To Shift</h5>
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="modal"
          aria-label="Close"
        ></button>
      </div>
      <div class="modal-body">
        <div class="row">
          <div class="col-11 mx-auto">
            <div style="height: 350px; overflow: auto">
              <table class="table table-bordered align-middle table-hover">
                <thead>
                  <tr>
                    <th colspan="3" class="text-center">Doctors</th>
                  </tr>
                </thead>
                <tbody>
                  <tr
                    *ngFor="let doctor of allDoctors"
                    [ngClass]="
                      selectedNewDoctor == doctor ? 'selected' : 'notSelected'
                    "
                    (click)="selectedNewDoctor = doctor"
                  >
                    <td class="text-center">{{ doctor.firstName }}</td>
                    <td class="text-center">{{ doctor.lastName }}</td>
                    <td class="text-center">
                      {{ doctor.specialization.name }}
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
          Cancel
        </button>
        <button
          type="button"
          class="btn btn-primary"
          data-bs-dismiss="modal"
          [disabled]="selectedNewDoctor == undefined"
          (click)="addDoctorToShift()"
        >
          Add
        </button>
      </div>
    </div>
  </div>
</div>
